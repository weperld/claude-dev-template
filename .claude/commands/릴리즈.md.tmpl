---
description: 릴리즈 - 버전 태그 생성 및 릴리즈 진행
---

프로젝트 릴리즈를 진행해주세요.

[버전]: $ARGUMENTS

**작업 절차**:
1. **사전 검증**:
   - `git status`로 워킹 트리 클린 확인 (미커밋 변경이 있으면 중단)
   - `{{BUILD_COMMAND}}`로 빌드 성공 확인 (실패 시 중단)

2. **버전 결정**:
   - 버전이 지정된 경우: 해당 버전 그대로 사용 (예: `v2.1.0`)
   - 버전이 없는 경우: 이전 태그 이후 커밋 태그를 분석하여 자동 결정
     - `[feat]` 또는 `[refactor]`가 포함 → **minor** (v2.0.2 → v2.1.0)
     - `[fix]`, `[docs]`, `[style]`, `[test]`, `[perf]`, `[chore]`만 있음 → **patch** (v2.0.2 → v2.0.3)
     - 사용자에게 질문하지 않고 자동으로 판단하여 바로 진행

3. **릴리즈 노트 생성**:
   - 이전 태그 이후 커밋 목록 수집: `git log <이전태그>..HEAD --oneline`
   - 커밋을 태그별로 분류하여 릴리즈 노트 자동 작성
   - 릴리즈 노트 형식:
     ```
     ## 변경 사항

     ### 새 기능 (feat)
     - 커밋 내용

     ### 버그 수정 (fix)
     - 커밋 내용

     ### 리팩터링 (refactor)
     - 커밋 내용

     ### 문서 (docs)
     - 커밋 내용

     ### 기타 (chore, style, test, perf)
     - 커밋 내용
     ```

4. **태그 생성 및 푸시**:
   - `git tag -a <버전> -m "릴리즈 노트"` 으로 어노테이트 태그 생성
   - `git push origin <버전>` 으로 태그 푸시

5. **GitHub 릴리즈** (gh CLI 사용 가능 시):
   - `gh release create <버전> --title "<버전>" --notes "릴리즈 노트"`
   - gh CLI가 없으면 GitHub 웹에서 릴리즈 생성 안내

6. **완료 보고**:
   - 버전, 태그, 릴리즈 노트 요약 출력
   - 이전 버전 대비 커밋 수, 변경 파일 수 표시

**요구사항**:
- 워킹 트리가 클린하지 않으면 릴리즈 진행 금지
- 빌드 실패 시 릴리즈 진행 금지
- 이미 존재하는 태그와 중복 시 릴리즈 진행 금지
- 태그 형식은 반드시 `v` 접두사 포함 (예: v2.1.0)

**예시**:

```bash
# 버전 직접 지정
/project:릴리즈 v2.1.0
→ 빌드 확인 ✅
→ 릴리즈 노트 생성
→ 태그 v2.1.0 생성 및 푸시
→ 릴리즈 완료

# 버전 자동 결정
/project:릴리즈
→ 현재 최신 태그: v2.0.2
→ 커밋 분석: [feat] 1건, [fix] 2건 → minor 판단
→ 버전 v2.1.0 자동 결정
→ 릴리즈 완료
```
