# Workflow Guidelines

> {{PROJECT_NAME}} 프로젝트에서 작업을 수행할 때 따라야 할 워크플로우를 정의합니다.

---

## 1. 지시 사항 준수 원칙

- ✅ 모든 작업은 **사용자의 명시적인 지시**에 근거하여 수행한다.
- ❌ 지시 사항 이외의 임의적인 코드 수정, 최적화, 리팩토링은 엄격히 금지한다.

---

## 2. 이름/타입명 수정 규칙 (전역)

> **위반 시 조치**: 수정을 완료로 간주하지 않으며, 누락된 단계를 즉시 수행해야 한다.

이름(변수, 함수, 클래스, Enum, 인터페이스 등) 또는 타입명을 변경할 때는 반드시 다음 절차를 따른다:

1. **전수 조사**: 수정 전 Grep 또는 LSP Find References로 해당 이름의 **모든 참조를 빠짐없이 조사**한다.
2. **수정 계획 수립 및 사용자 확인**: 변경 대상 목록(파일, 라인)을 정리하고, 수정 계획을 사용자에게 제시하여 **확인을 받은 후** 진행한다.
3. **수정 대상 개별 판별**: 동일 문자열이라도 실제 수정 대상인지 **하나하나 판별**한다 (동명의 다른 심볼, 주석, 문자열 리터럴 등 구분).
4. **컴파일 에러 0건 확인**: 수정 완료 후 LSP 진단 또는 빌드를 통해 **에러 0건을 실제로 확인**한다.

---

## 3. 값 수정 규칙 (전역)

> **위반 시 조치**: 수정을 완료로 간주하지 않으며, 누락된 단계를 즉시 수행해야 한다.

상수, 설정값, 매직넘버, 기본값, Enum 값 등 **코드 내 값을 변경**할 때는 반드시 다음 절차를 따른다:

1. **현재 값의 의도 파악**: 해당 값이 왜 현재 값으로 설정되어 있는지, 원래 의도와 맥락을 코드·주석·히스토리를 통해 파악한다.
2. **영향 범위 조사**: Grep 또는 LSP Find References로 해당 값을 **참조·비교·의존하는 모든 코드를 조사**한다 (조건 분기, 계산식, 외부 연동 등 포함).
3. **수정 계획 수립 및 사용자 확인**: 변경 사유, 영향 범위, 기존 동작과의 차이를 정리하여 사용자에게 **확인을 받은 후** 진행한다.
4. **호환성 검증**: 값 변경이 기존 동작·데이터·외부 인터페이스와의 호환성을 깨뜨리지 않는지 확인한다.
5. **컴파일 에러 0건 확인**: 수정 완료 후 LSP 진단 또는 빌드를 통해 **에러 0건을 실제로 확인**한다.

---

## 4. 추가 작업 제안 및 승인 프로세스

### 제안 필요 상황
- 🐛 버그 발견
- ⚠️ 안정성 문제 발견
- 📚 문서 오류 발견

### 승인 절차
1. 사용자에게 보고
2. 작업 내용과 이유를 설명
3. 승인 후 진행

### 보고 형식
```
[작업 내용]: 파일명과 로직 수준에서 명확히 기술
[이유]: 해당 작업이 왜 필요한지, 사용자 지시 사항과 어떤 연관이 있는지 상세히 설명
```

---

## 5. 보고 및 설명 의무

### 작업 완료 후 보고
- 어떤 **파일의 어느 부분**이 수정되었는지 명확히 설명
- 기술적인 변경 사항이 사용자의 **의도를 어떻게 충족시키는지** 연결하여 보고

### 보고 예시
```
✅ Service.cs의 Export 메서드를 수정했습니다.

[수정 내용]
- 20번 라인: null 체크 추가
- 45번 라인: 예외 메시지 개선

[이유]
사용자 지시 "데이터 무결성 보장"에 따라 null 체크를 추가했습니다.
```

---

## 6. 작업 우선순위 및 태도

### 우선순위
1. **사용자의 판단**을 최우선으로 존중
2. "해야 할지 말아야 할지"는 **사용자가 결정**
3. 명심하라고 지시받은 모든 사항을 항상 최우선으로 고려

---

## 7. 버전 관리 및 커밋 규칙

### 커밋 메시지 형식
```
[태그] 요약
```

### 주요 태그
| 태그 | 설명 | 예시 |
|------|------|------|
| `feat` | 새로운 기능 추가 | `[feat] 새로운 기능 추가` |
| `fix` | 버그 수정 | `[fix] Service null 체크 수정` |
| `docs` | 문서 수정 | `[docs] AGENTS.md 개편` |
| `style` | 코드 포맷팅 (로직 변경 없음) | `[style] 들여쓰기 수정` |
| `refactor` | 코드 리팩토링 (기능 변화 없음) | `[refactor] Service 구조 개선` |
| `test` | 테스트 코드 추가/수정 | `[test] Service 테스트 추가` |
| `chore` | 빌드 설정, 패키지 관리, 환경 설정 | `[chore] 라이브러리 버전 업데이트` |

### 커밋 분류 원칙
- 로컬 변경 사항을 **기능 단위**로 적절히 분류하여 커밋
- 하나의 커밋에 여러 기능을 섞지 않기
- 문서 수정은 별도 커밋으로 분리

---

## 8. 릴리즈 규칙

### 릴리즈 조건
- 사용자의 **명시적인 지시**가 있을 때만 진행

### 릴리즈 방법
- 별도 지시가 없으면 **깃허브 릴리즈** 수행

### 릴리즈 체크리스트
- [ ] 빌드 성공 확인
- [ ] 주요 기능 테스트 완료
- [ ] CHANGELOG.md 업데이트
- [ ] 버전 번호 업데이트 ({{PROJECT_FILE}})
