# 에이전트 및 코파일럿 작업 가이드

> 에이전트 및 코파일럿을 위한 {{PROJECT_NAME}} 프로젝트 작업 가이드입니다.
> 각 항목의 상세 내용은 링크된 세부 문서를 참고하세요.

---

## 🔒 절대 규칙 (모든 에이전트 공통)

> **중요**: 이 절대 규칙은 모든 에이전트(coordinator, analyst, architect, developer, reviewer, doc-manager, tester)가 반드시 99% 이상 준수해야 합니다.
>
> **위반 시**: 작업 중단, 사용자 알림, 재시도 요청

### Hard Blocks (절대 위반 금지)

| 규칙 | 위반 시 조치 |
|------|------------|
| {{TYPE_SAFETY_RULES}} |
| **빈 catch 블록 금지** | `catch(e) {}` 빈 블록 금지 |
| **테스트 삭제 금지** | 실패한 테스트를 삭제하여 "통과"로 만드는 행위 금지 |
| **커밋 없이 파일 수정 금지** | 사용자의 명시적 요청 없이 커밋 금지 |
| **추측 금지** | 코드를 읽지 않고 추측해서 작업 금지 |
| **코드 파괴 금지** | 개발 파이프라인의 지침을 파괴하는 행위 금지 |

> **참고**: 현재 프로젝트는 {{TECH_STACK}} 기반입니다

### Anti-Patterns (BLOCKING violations)

| 범주 | 금지 행동 | 예시 |
|------|----------|------|
| {{TYPE_SAFETY_ANTIPATTERNS}} |
| **Error Handling** | 빈 catch 블록 | `catch(e) {}` |
| **Testing** | 테스트 삭제 | 실패한 테스트 삭제 |
| **Git** | 무단 커밋 | 커밋 명령 실행 |

---

### 에이전트별 금지 행동

> **기본 원칙**: 모든 에이전트는 절대 규칙(Hard Blocks)을 위반하는 행동을 금지함

#### coordinator (코디네이터)

**금지 행동**:
1. **모호한 지시 전달 금지**: "architect Design 진행해줘" 처럼 구체적 정보 없이 위임
2. **WorkID 누락 금지**: 작업 시작 시 WorkID 생성 누락
3. **WORK_IN_PROGRESS.md 업데이트 누락 금지**: 단계 완료 시 업데이트 누락
4. **절대 규칙 위반 통과 금지**: 하위 에이전트의 절대 규칙 위반을 통과시키는 행위

---

#### analyst (분석가)

**금지 행동**:
1. **추측해서 작업 금지**: 기획서 내용을 추측해서 분석
2. **문서 읽기 생략 금지**: 필수 문서(PROJECT_SUMMARY.md, CODE_STYLE.md 등) 읽기 생략
3. **모호한 요청 그대로 진행 금지**: 사용자의 모호한 요청을 그대로 작업에 반영

---

#### architect (아키텍트)

**금지 행동**:
1. **데이터 무결성 위반 설계 금지**: 기본값 대신 예외 발생 설계 누락
2. {{ARCHITECT_LANG_RULES}}
3. **기술 규칙 위반 설계 금지**: TECHNICAL_RULES.md 위반 설계

---

#### developer (개발자)

**금지 행동**:
1. **데이터 무결성 위반 금지**: 기본값 대신 예외 발생
2. {{DEVELOPER_LANG_RULES}}

---

#### tester (테스터)

**금지 행동**:
1. **버그 은폐 금지**: 발견한 버그를 보고하지 않고 은폐
2. **테스트 결과 왜곡 금지**: 실패를 성공으로 보고

---

#### reviewer (리뷰어)

**금지 행동**:
1. **절대 규칙(Hard Blocks) 위반 코드 통과 금지**: 모든 절대 규칙을 위반한 코드 리뷰 통과
   - 타입 에러 억제
   - 빈 catch 블록
   - 테스트 삭제
   - 커밋 없이 파일 수정
   - 추측 작업
   - 코드 파괴

---

#### doc-manager (문서 관리자)

**금지 행동**:
1. **WORK_IN_PROGRESS.md 업데이트 누락 금지**: 단계 완료 시 업데이트 누락
2. **버그 은폐 문서화 금지**: 발견한 버그를 문서에서 은폐
3. **테스트 결과 왜곡 문서화 금지**: 실패를 성공으로 보고하는 문서 작성

---

### Self-Validation Checklist (작업 완료 전 필수)

모든 에이전트는 작업 완료 전 다음 체크리스트를 반드시 수행해야 합니다:

> **강제 사항**: Self-Validation Checklist 수행 결과를 WORK_IN_PROGRESS.md에 기록하고,
> 기록되지 않은 경우 Cross-Stage Review Chain이 수행되지 않습니다.

```markdown
## 🔒 작업 완료 전 필수 체크리스트

{{VALIDATION_ITEMS}}

### Error Handling
- [ ] 빈 catch 블록 없음

### Testing
- [ ] 테스트 삭제하지 않음

### Git
- [ ] 커밋 없이 파일 수정하지 않음 (사용자 요청 전)

### Integrity
- [ ] 단언 없이 추측하지 않음

### Pipeline
- [ ] 모든 위반이 없음을 확인함:
  - [ ] Type Safety 위반 없음
  - [ ] Error Handling 위반 없음
  - [ ] Testing 위반 없음
  - [ ] Git 위반 없음
- [ ] 개발 파이프라인 지침을 파괴하지 않음:
  - [ ] WORK_IN_PROGRESS.md 업데이트 완료
  - [ ] WorkID 생성 누락 없음
  - [ ] 크로스체크 통과 완료
```

**위반 시 조치**:
1. 즉시 작업 중단
2. 사용자에게 위반 내용 보고
3. 수정 후 재시도

---

## 🔒 Cross-Stage Review Chain (강제 검증 - 검증 항목 세분화)

각 단계에서 다음 단계로 넘어갈 때 **reviewer**가 강제 검증을 수행합니다:

| 단계 전이 | 검증 담당자 | 검증 항목 (세분화) |
|---------|------------|-------------------|
| | Plan → Design | reviewer | **기획 관련 전문 검증 항목**:<br/>- 기획 명확성<br/>- 영향 파일 완전성<br/>- 위험 요소 식별<br/>- **기획의 현실성 검증**<br/>- **기획의 일관성 검증**<br/>- **기획의 타당성 검증**<br/>- 절대 규칙 준수 |
| | Design → Code | reviewer | **아키텍처 관련 전문 검증 항목**:<br/>- 아키텍처 실현 가능성<br/>- 의존성 구현 가능성<br/>{{DESIGN_REVIEW_ITEMS}}<br/>- **확장성 검증**<br/>- **스케일러빌리티 검증**<br/>- **성능 고려 여부**<br/>- 절대 규칙 준수 |
| | Code → Test | reviewer | **코드 관련 전문 검증 항목**:<br/>- 빌드 성공<br/>- 코드 스타일<br/>- 기술 규칙 준수<br/>- **코드 복잡도**<br/>- **코드 효율성**<br/>- **코드 가독성**<br/>- 절대 규칙 준수 |
| | Test → Docs | reviewer | **테스트 관련 전문 검증 항목**:<br/>- 테스트 가능성<br/>- 버그 0개<br/>- **테스트 커버리지**<br/>- **테스트 품질**<br/>- **테스트 유지보수성**<br/>- 절대 규칙 준수 |
| | Docs → QA | reviewer | **문서 관련 전문 검증 항목**:<br/>- 문서 완전성<br/>- 코드 일치성<br/>- **문서 명확성**<br/>- **문서 품질**<br/>- **문서 최신성**<br/>- 절대 규칙 준수 |
| | QA → Review | reviewer | **QA 관련 전문 검증 항목**:<br/>- 절대 규칙 100% 준수<br/>- 코드 품질<br/>- 버그 0개<br/>- **성능 지표**<br/>- **보안 지표**<br/>- 절대 규칙 준수 |

> **중요**: 검증 담당자는 항상 **reviewer**입니다. 표의 "검증 항목 (세분화)"은 해당 전이 시점에 집중해야 할 검증 포인트입니다.

> **전문 검증 항목 세분화**: 각 단계별로 전문 검증 항목을 세분화하여 검증 품질 향상

**절대 규칙 검증 포함**:
- reviewer는 각 단계에서 **절대 규칙 준수 여부**를 반드시 검증해야 합니다.
- 절대 규칙 위반 시 **즉시 해당 단계로 롤백**하고 **수정 요청**해야 합니다.

> **강제 사항**: 각 단계 전이 시 reviewer가 검증을 완료하고 WORK_IN_PROGRESS.md에
> "크로스체크 통과 완료"를 기록하지 않은 경우, 다음 단계로 넘어갈 수 없습니다.

---

## 📌 에이전트 필독 순서 (중요!)

새로운 대화에서 작업을 시작할 때, **반드시 다음 순서대로 문서를 읽으세요**:

1. **AGENTS.md** (현재 파일) - 전체 메뉴 및 지시 템플릿 확인
2. **PROJECT_SUMMARY.md** - 프로젝트 30초 요약 (핵심 컨텍스트)
3. **WORKFLOW_PLANNING/INDEX.md** - 기획서 처리 및 자동 업데이트 시스템
4. **WORK_IN_PROGRESS.md** - 현재 진행 중인 작업 확인
5. **🔒 절대 규칙 (위 섹션)** - 작업 시작 전 필수 확인
6. 필요에 따라 상세 가이드 참조

> **강제 사항**: 에이전트는 필독 순서를 준수했음을 WORK_IN_PROGRESS.md에 기록해야 하며,
> 기록되지 않은 경우 작업을 시작할 수 없습니다.

**작업 수행 방법:**
- 커스텀 명령어 사용: `/project:신규 [기능 설명]`, `/project:수정 [문제 설명]` 등
- 워크플로우 단계별로 coordinator, analyst, architect, developer, reviewer, doc-manager, tester 역할이 순차적으로 수행됨

**원칙:**
- 모든 단계에서 **WORK_IN_PROGRESS.md를 자동으로 업데이트**하세요
- **절대 규칙을 99% 이상 준수**하세요
- 작업 완료 전 **Self-Validation Checklist**를 반드시 수행하세요
- 사용자가 별도 업데이트 지시할 필요가 없습니다
- 작업 완료/취소 시에도 자동으로 업데이트하세요

---

## 📢 사용자 피드백 시스템 (강제)

에이전트가 작업 완료 후 사용자에게 피드백을 요청합니다:

### 피드백 요청 프로세스

#### 1단계: 에이전트 작업 완료
- 에이전트가 자신의 작업 완료
- 작업 결과 요약 생성
- 생성/수정 파일 목록 작성

#### 2단계: Self-Validation Checklist 수행
- Type Safety 체크
- Error Handling 체크
- Testing 체크
- Git 체크
- Integrity 체크
- Pipeline 체크
- 체크리스트 결과를 WORK_IN_PROGRESS.md에 기록

#### 3단계: 사용자 피드백 요청 메시지 생성
- 에이전트: @agent_name
- 작업: task_description
- 작업 결과: result_summary
- Self-Validation Checklist 수행 결과 포함

#### 4단계: 사용자 피드백 제공
- 사용자가 피드백 항목 확인
- "결과 평가" 선택:
  - 규칙 위반함
  - 규칙 위반하지 않음, 결과 문제 있음
  - 규칙 위반하지 않음, 결과 만족
- "결과 문제 있는 경우" 선택 시 상세 기재

#### 5단계: 피드백 처리
- "규칙 위반함" 선택: 즉시 작업 중단, 수정 후 재시도
- "규칙 위반하지 않음, 결과 문제 있음" 선택: 작업 중단, 수정 후 재시도
- "규칙 위반하지 않음, 결과 만족" 선택: 다음 단계 진행

#### 6단계: Cross-Stage Review Chain 검증
- reviewer가 검증 수행
- 검증 결과를 WORK_IN_PROGRESS.md에 기록
- 다음 단계로 진행

### 사용자 피드백 요청 메시지 템플릿

```markdown
## 📢 사용자 피드백 요청

### 작업 내용
- 에이전트: @agent_name
- 작업: task_description
- 작업 결과: result_summary

### 생성/수정 파일
- file1.cs (수정)
- file2.cs (신규)

### 빌드 상태 (Code 단계만)
- 빌드 결과: 성공/실패
- 컴파일 에러: 에러 내용 또는 없음
- 빌드 시간: 15초

### Self-Validation Checklist 수행 완료
- Type Safety: ✅ 위반 없음 / ❌ 위반 있음
- Error Handling: ✅ 위반 없음 / ❌ 위반 있음
- Testing: ✅ 위반 없음 / ❌ 위반 있음
- Git: ✅ 위반 없음 / ❌ 위반 있음
- Integrity: ✅ 위반 없음 / ❌ 위반 있음
- Pipeline: ✅ 위반 없음 / ❌ 위반 있음

### 결과 평가
- ⚪️ 규칙 위반함 (즉시 작업 중단, 수정 후 재시도)
- ⚪️ 규칙 위반하지 않음, 결과 문제 있음 (수정 후 재시도)
- ✅ 규칙 위반하지 않음, 결과 만족 (다음 단계 진행)

### 결과 문제 있는 경우 (선택 시 기재)
- 문제 유형: 성능/기능/코드 품질/요구사항 미충족/기타
- 문제 내용: (구체적 설명)
- 개선 방안: (제안)

### 피드백 구분 (필수 사항)

- [x] **전역적 피드백**: 프로젝트 전체에 적용되는 피드백
  - **기록 위치**: PROJECT_SUMMARY.md
  - **예시**: 코드 스타일, 기술 규칙, 디자인 패턴, 아키텍처 원칙 등
  - **설명**: 모든 에이전트, 모든 작업에 적용되는 규칙이나 원칙과 관련된 피드백

- [ ] **프로젝트 레벨 피드백**: 특정 모듈/기능에만 적용되는 피드백
  - **기록 위치**: 해당 모듈/기능의 README.md
  - **예시**: 특정 서비스 성능, 특정 파서 로직 등
  - **설명**: 특정 모듈/기능의 성능, 로직, 아키텍처, 사용법 등과 관련된 피드백

- [x] **작업 특화 피드백**: 현재 작업에만 적용되는 피드백
  - **기록 위치**: WORK_IN_PROGRESS.md (단계별 WIP 파일)
  - **예시**: 이 버그 수정, 이 기능 추가, 이 코드 파일 수정 등
  - **설명**: 특정 작업 상황에서 발생한 문제나 개선사항과 관련된 피드백

### 기록 체계 (선택 시 기재)
- [ ] PROJECT_SUMMARY.md에 기록 (전역적 피드백 선택 시)
- [ ] CODE_STYLE.md에 기록 (코드 스타일 관련 피드백 선택 시)
- [ ] TECHNICAL_RULES.md에 기록 (기술 규칙 관련 피드백 선택 시)
- [ ] 해당 모듈/기능의 README.md에 기록 (프로젝트 레벨 피드백 선택 시)
- [ ] WORK_IN_PROGRESS.md에 기록 (작업 특화 피드백 선택 시)
- [ ] 해당 작업의 WIP 파일에 기록 (작업 특화 피드백 선택 시)

### 사용자 코멘트
(자유롭게 작성)

### 사용자 피드백 완료 확인
- [x] 피드백 제공 완료
```

### 강제 사항

> **강제 사항**: 사용자 피드백을 받지 않은 경우 다음 단계로 넘어갈 수 없습니다.
> 사용자가 "규칙 위반함" 또는 "규칙 위반하지 않음, 결과 문제 있음"을 선택한 경우
> 즉시 작업 중단, 수정 후 재시도해야 합니다.

---

## 🎯 토큰 절약용 지시 템플릿

### 커스텀 명령어로 작업 시작
```
/project:신규 [기능 설명]
/project:수정 [문제 설명]
/project:커밋
/project:전송
/project:상태 전체
```
→ 커스텀 명령어를 통해 전체 워크플로우가 자동으로 실행됩니다

**⚠️ 금지 예시 (절대 하지 마세요):**
```
기획서 분석해줘
아키텍처 설계해줘
코드 작성해줘
```
→ 이런 식의 모호한 지시는 받아들이지 말고 구체적 정보를 요구하세요

**✅ 올바른 예시:**
```
/project:신규 [기능명] 기능 추가
→ 워크플로우가 자동으로 WorkID 생성 후 Plan → Design → Code → Test → Docs → QA → Review 순서로 진행

다음 기획서 내용을 분석해주세요:
[문서 경로: ./docs/planning/feature_001.md]
[요구사항: 데이터 추출 기능 추가]

[기능명] 추출 기능에 대한 아키텍처 설계가 필요합니다.
[작업 대상]: 서비스 확장
[작업 범위]: 파일 로드, 파싱, 매핑
[요구사항]: 기존 로직과 통합, 비동기 처리
```

---

### 프로젝트 이해 필요
```
요약: PROJ_SUMMARY 읽고 3줄로 설명
```
→ 에이전트가 PROJECT_SUMMARY.md 읽고 핵심 3줄로 요약

---

### 기획서 처리
```
기획: [파일경로]
또는
기획: "기획서 내용"
```
→ WORKFLOW_PLANNING/INDEX.md 참고 → 분석 → 계획 → 확인

**예시:**
```
기획: ./docs/planning/feature_001.md
기획: "데이터 추출 기능 추가"
```

---

### 기능 수정
```
수정: [파일:라인] [문제]
또는
수정: [문제 설명]
```
→ 유형A 분석 → 계획 → 확인 → 구현

**예시:**
```
수정: Service.cs:20 null 체크 추가
수정: 서비스에서 null 참조 버그 수정
```

---

### 새로운 기능
```
신규: [기능 설명]
```
→ 유형B 분석 → 계획 → 확인 → 구현

**예시:**
```
신규: [기능명] 데이터 추출 기능 추가
신규: [프로세서명] 기능 추가
```

---

### 작업 재개
```
재개: WIP-YYYYMMDD-NN
또는
CONTINUE: WIP-YYYYMMDD-NN
```
→ WORK_IN_PROGRESS.md에서 상태 확인 → 재개

**예시:**
```
재개: WIP-20250202-001
CONTINUE: WIP-20250202-001
```

---

### 작업 완료/취소
```
완료: WIP-YYYYMMDD-NN
취소: WIP-YYYYMMDD-NN [사유]
상태: WIP-YYYYMMDD-NN 또는 상태: 전체
```

---

### 내보내기
```
내보내기: json
또는
내보내기: markdown
```
→ WORK_IN_PROGRESS.md의 완료/취소 작업을 WORK_HISTORY.json 또는 마크다운으로 내보내기

---

### 긴급 버그
```
🚨 [파일:라인] [오류 메시지]
```
→ 즉시 LOG 확인 → 문제 분석 → 수정

**예시:**
```
🚨 Service.cs:45 NullReferenceException 발생
🚨 MainViewModel에서 빌드 오류
```

---

### 커밋 및 푸시
```
커밋: [메시지]
```
→ 로컬 변경 사항을 확인하고 적절히 분류 후 커밋

```
푸시: [메시지]
```
→ 커밋 후 원격 저장소로 푸시

**예시:**
```
커밋: 데이터 추출 기능 추가
푸시: 기능 추가 및 버그 수정
```

---

## 📚 문서 인덱스

### 핵심 문서 (반드시 읽어야 함)

| 순서 | 문서 | 용도 | 링크 |
|------|------|------|------|
| 1️⃣ | **AGENTS.md** | 전체 메뉴 및 에이전트 동작 원칙 | [현재 파일](#) |
| 2️⃣ | **PROJECT_SUMMARY.md** | 프로젝트 30초 요약, 빠른 컨텍스트 | [읽기 →](./PROJECT_SUMMARY.md) |
| 3️⃣ | **WORKFLOW_PLANNING/INDEX.md** | 기획서 처리 및 자동 업데이트 시스템 | [읽기 →](./WORKFLOW_PLANNING/INDEX.md) |
| 4️⃣ | **WORK_IN_PROGRESS.md** | 현재 진행 중 작업 상태 확인 | [읽기 →](./WORK_IN_PROGRESS.md) |
| 5️⃣ | **QUICK_REFERENCE.md** | 자주 쓰는 명령어, 패턴, 단축어 | [읽기 →](./QUICK_REFERENCE.md) |

### 상세 가이드 (필요 시 참조)

| 섹션 | 설명 | 문서 |
|------|------|------|
| 🆕 | **프로젝트 요약** | [PROJECT_SUMMARY.md](./PROJECT_SUMMARY.md) |
| 🆕 | **에이전트 역할 정의** | [AGENT_ROLES.md](./AGENT_ROLES.md) |
| 🆕 | **기획서 워크플로우** | [WORKFLOW_PLANNING/INDEX.md](./WORKFLOW_PLANNING/INDEX.md) |
| 🆕 | **작업 추적** | [WORK_IN_PROGRESS.md](./WORK_IN_PROGRESS.md) |
| 🆕 | **빠른 참조** | [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) |
| 1️⃣ | **빌드 및 개발** | [BUILD_GUIDE.md](./.guides/BUILD_GUIDE.md) |
| 2️⃣ | **작업 워크플로우** | [WORKFLOW_GUIDE.md](./.guides/WORKFLOW_GUIDE.md) |
| 3️⃣ | **코드 스타일** | [CODE_STYLE.md](./.guides/CODE_STYLE.md) |
| 4️⃣ | **기술적 준수 사항** | [TECHNICAL_RULES.md](./.guides/TECHNICAL_RULES.md) |
| 5️⃣ | **테스트 가이드** | [TEST_GUIDE.md](./.guides/TEST_GUIDE.md) |
| 6️⃣ | **커밋 규칙** | [COMMIT_RULES.md](./.guides/COMMIT_RULES.md) |

---

## 🚀 빠른 참조

### 핵심 기술 원칙 (📌 즉시 확인 필요)
- **데이터 무결성 우선**: 기본값 대신 예외 발생
- **비동기 작업**: try-finally로 상태 보장
- **커밋 메시지**: `[태그] 요약` 형식

> **자세한 내용**: 상세 가이드 섹션에서 [BUILD_GUIDE.md](./.guides/BUILD_GUIDE.md), [CODE_STYLE.md](./.guides/CODE_STYLE.md), [TECHNICAL_RULES.md](./.guides/TECHNICAL_RULES.md) 참고

### WorkID 형식
```
WIP-YYYYMMDD-NN
예: WIP-20250202-001
```

---

## 📌 지시 형식 필수 원칙 (중요!)

### 에이전트 지시 규칙 (코디네이터 & 사용자 공통)

**필수 원칙**:
작업 지시 시 **반드시 구체적인 지시 문서** 또는 **구체적인 설명**을 포함해야 합니다.

### 금지 사항
❌ **절대 하지 말아야 할 지시**:
- "Design 진행해줘"
- "이거 구현해줘"
- 아무 내용 없이 모호한 지시를 하는 경우

### 지시 필수 구성 요소

**형식 1: 문서 기반 지시** (권장)
```
작업에 대한 구체적 지시 사항이 담긴 문서를 작성했습니다.
문서: ./docs/instructions/design-001.md
해당 문서를 참고하여 작업을 진행해주세요.
```

**형식 2: 구체적 설명 포함 지시**
```
[기능명] 데이터 추출 기능에 대한 아키텍처 설계를 진행해주세요.

[작업 대상]
- 새로운 서비스 클래스 설계
- 파싱 로직 구조

[작업 범위]
- 파일 로드, 파싱, 데이터 매핑 처리
- 기존 추출 로직과의 통합 고려

[요구사항]
- 비동기 처리 필수
- 에러 처리 완벽히 구현
- 기존 패턴 준수

[참고 자료]
- 기존 서비스 코드 참조
- 현재 추출 로직 참조

[기대 결과]
- 아키텍처 다이어그램
- 클래스 구조 정의서
- 인터페이스 명세
```

### 사용자 지시 부족 시 대응
사용자가 "Design 진행해줘"처럼 애매하게 지시한 경우:
- **즉시 사용자에게 구체적 정보를 요구**해야 함
- "어떤 기능에 대한 디자인인지, 작업 범위, 요구사항 등 구체적인 정보를 알려주세요"
- 추측해서 작업하지 말고 반드시 정보 요구

---

## 📌 에이전트 가이드 요약

### 시스템 이해
```
📋 문서 구조
├── AGENTS.md (핵심)
├── PROJECT_SUMMARY.md (컨텍스트)
├── WORKFLOW_PLANNING/INDEX.md (프로세스)
├── WORK_IN_PROGRESS.md (상태 추적)
└── QUICK_REFERENCE.md (빠른 참조)

🔄 자동화 시스템
├── WorkID 생성 (스크립트 또는 자동)
├── WORK_IN_PROGRESS.md 자동 업데이트
├── 완료/취소 자동 처리
└── 보고서 자동 생성
```

### 에이전트 동작 원칙
1. **모든 단계에서 WORK_IN_PROGRESS.md 자동 업데이트**
2. **사용자가 별도 업데이트 지시 불필요**
3. **작업 완료/취소 시 자동 처리**

### 필독 순서
```
새 대화 시작 → AGENTS.md 읽기 → PROJECT_SUMMARY.md 읽기
→ 필요한 가이드 읽기 → 작업 시작
```

---

## 📁 WIP 템플릿 및 폴더 구조

### 전체 폴더 구조
```
.wips/
├── templates/           # 템플릿 파일 (읽기 전용)
│   ├── WIP-Plan-YYYYMMDD-NN.md
│   ├── WIP-Design-YYYYMMDD-NN.md
│   ├── WIP-Code-YYYYMMDD-NN.md
│   ├── WIP-Test-YYYYMMDD-NN.md
│   ├── WIP-Docs-YYYYMMDD-NN.md
│   └── WIP-QA-YYYYMMDD-NN.md
└── active/              # 독립 WIP 작성 폴더 (쓰기 전용)
    ├── Plan/
    ├── Design/
    ├── Code/
    ├── Test/
    ├── Docs/
    └── QA/
```

### 에이전트별 매핑 테이블

| 에이전트 | 담당 스테이지 | 템플릿 파일 | 작성 폴더 | 템플릿 경로 | 작성 경로 |
|---------|-------------|-----------|-----------|-----------|----------|
| **analyst** | Plan | `WIP-Plan-YYYYMMDD-NN.md` | `.wips/active/Plan/` | `.wips/templates/WIP-Plan-YYYYMMDD-NN.md` | `.wips/active/Plan/WIP-Plan-YYYYMMDD-NN.md` |
| **architect** | Design | `WIP-Design-YYYYMMDD-NN.md` | `.wips/active/Design/` | `.wips/templates/WIP-Design-YYYYMMDD-NN.md` | `.wips/active/Design/WIP-Design-YYYYMMDD-NN.md` |
| **developer** | Code | `WIP-Code-YYYYMMDD-NN.md` | `.wips/active/Code/` | `.wips/templates/WIP-Code-YYYYMMDD-NN.md` | `.wips/active/Code/WIP-Code-YYYYMMDD-NN.md` |
| **tester** | Test | `WIP-Test-YYYYMMDD-NN.md` | `.wips/active/Test/` | `.wips/templates/WIP-Test-YYYYMMDD-NN.md` | `.wips/active/Test/WIP-Test-YYYYMMDD-NN.md` |
| **doc-manager** | Docs | `WIP-Docs-YYYYMMDD-NN.md` | `.wips/active/Docs/` | `.wips/templates/WIP-Docs-YYYYMMDD-NN.md` | `.wips/active/Docs/WIP-Docs-YYYYMMDD-NN.md` |
| **reviewer** | QA | `WIP-QA-YYYYMMDD-NN.md` | `.wips/active/QA/` | `.wips/templates/WIP-QA-YYYYMMDD-NN.md` | `.wips/active/QA/WIP-QA-YYYYMMDD-NN.md` |
| **coordinator** | Review | (전체 관리) | (해당 없음) | - | - |

### 절대 규칙

1. **템플릿은 읽기 전용**: `.wips/templates/` 폴더의 파일은 절대 수정하지 마세요
2. **독립 WIP는 복사 후 작성**: 템플릿 내용을 복사한 후, 실제 정보로 수정하여 작성
3. **폴더 분리**: 각 스테이지의 독립 WIP는 `.wips/active/{Stage}/` 폴더에만 작성하세요
4. **보존**: 작업 완료/취소 후 독립 WIP 파일은 `.wips/archive/{Stage}/` 폴더로 이동하여 보존하세요 (히스토리용)

---

## 📝 템플릿 사용 가이드

### 파일명 플레이스홀더

**템플릿 파일 형식**: `WIP-{Stage}-YYYYMMDD-NN.md`
- `{Stage}`: 스테이지 이름 (Plan, Design, Code, Test, Docs, QA)
- `YYYYMMDD`: 날짜 플레이스홀더 (변경 불필요)
- `NN`: 순번 플레이스홀더 (변경 불필요)

**독립 WIP 파일 형식**: `WIP-{Stage}-{YYYYMMDD}-{NN}.md`
- 예: `WIP-Plan-20250208-001.md`

---

### 필수 변경 항목

#### 1. 기본 정보 섹션

| 항목 | 템플릿 내용 | 변경 대상 | 예시 |
|------|-----------|----------|------|
| WorkID | `WIP-YYYYMMDD-NN` | 실제 WorkID | `WIP-20250208-001` |
| 생성일 | `YYYY-MM-DD` | 실제 날짜 | `2025-02-08` |
| 상태 | `준비 / 진행 중 / 완료 / 취소` | 작업 상태 | `진행 중` |

> **참고**: WorkID 생성은 [WORKFLOW_PLANNING/INDEX.md](./WORKFLOW_PLANNING/INDEX.md)에 상세히 설명되어 있습니다.

#### 2. 지시 정보 섹션

| 섹션 | 템플릿 내용 | 변경 대상 |
|------|-----------|----------|
| 작업 대상 (Target) | `(에이전트가 코디네이터/사용자로부터 받은 지시 내용 기반)` | 실제 작업 대상 내용 |
| 작업 범위 (Scope) | `(에이전트가 코디네이터/사용자로부터 받은 지시 내용 기반)` | 실제 작업 범위 내용 |
| 요구사항 (Requirements) | `(에이전트가 코디네이터/사용자로부터 받은 지시 내용 기반)` | 실제 요구사항 내용 |
| 참고 자료/링크 (References) | `(에이전트가 코디네이터/사용자로부터 받은 지시 내용 기반)` | 실제 참고 자료/링크 |
| 기대 결과 (Expected Outcome) | `(에이전트가 코디네이터/사용자로부터 받은 지시 내용 기반)` | 실제 기대 결과 내용 |

#### 3. 크로스체크 결과 섹션

| 항목 | 템플릿 내용 | 변경 대상 | 예시 |
|------|-----------|----------|------|
| 요청일 | `YYYY-MM-DD` | 실제 요청일 | `2025-02-08` |
| 응답일 | `YYYY-MM-DD` | 실제 응답일 | `2025-02-08` |
| 결과 | `통과 / 수정 요청` | 실제 결과 | `통과` |
| 피드백 | `(내용)` | 실제 피드백 내용 | `설계 적절함` |
| 조치 | `(수정 사항 및 재요청 여부)` | 실제 조치 내용 | `없음` |

#### 4. 진척도 섹션

| 항목 | 템플릿 내용 | 변경 대상 | 예시 |
|------|-----------|----------|------|
| 진척도 | `0% / 25% / 50% / 75% / 100%` | 실제 진척도 | `50%` |

#### 5. 체크박스 업데이트

| 단계 | 템플릿 | 완료 시 |
|------|--------|---------|
| 진행 중 | `[ ] 항목 내용` | `[x] 항목 내용` |

#### 6. 완료/취소 정보 섹션

| 항목 | 템플릿 내용 | 변경 대상 | 예시 |
|------|-----------|----------|------|
| 완료일 | `(완료 시 기록)` | 실제 완료일 | `2025-02-08 16:30` |
| 취소일 | `(취소 시 기록)` | 실제 취소일 | `2025-02-08 15:00` |
| 취소 사유 | `(취소 시 기록)` | 실제 취소 사유 | `우선순위 조정으로 인해` |

---

### 각 스테이지별 추가 변경 항목

#### Plan 단계

| 섹션 | 템플릿 내용 | 변경 대상 |
|------|-----------|----------|
| 유형 판단 | `(수정 A / 신규 B)` | `신규 B` |
| 영향 파일 분석 | `(에이전트가 코디네이터/사용자로부터 받은 지시 내용 기반)` | 실제 파일 목록 |

#### Design 단계

| 섹션 | 템플릿 내용 | 변경 대상 |
|------|-----------|----------|
| 아키텍처 다이어그램 | `(아키텍처 다이어그램 경로 또는 내용)` | 실제 다이어그램 내용 |
| 클래스 구조 정의서 | `(클래스 구조 정의서 경로 또는 내용)` | 실제 클래스 구조 |
| 인터페이스 명세 | `(인터페이스 명세 경로 또는 내용)` | 실제 인터페이스 명세 |

#### Code 단계

| 섹션 | 템플릿 내용 | 변경 대상 |
|------|-----------|----------|
| 생성 파일 | `(생성한 파일 목록)` | 실제 생성 파일 목록 |
| 수정 파일 | `(수정한 파일 목록 및 수정 내용 요약)` | 실제 수정 파일 목록 |
| 빌드 상태 | `성공 / 실패` | 실제 빌드 상태 |
| 컴파일 에러 | `(없음 또는 에러 내용)` | 실제 에러 내용 또는 `없음` |
| 빌드 시간 | `(빌드 소요 시간)` | 실제 빌드 시간 |

#### Test 단계

| 섹션 | 템플릿 내용 | 변경 대상 |
|------|-----------|----------|
| 전체 커버리지 | `(퍼센트)` | 실제 커버리지 (예: `85%`) |
| 필수 영역 커버리지 | `(퍼센트)` | 실제 커버리지 (예: `100%`) |
| 발견된 버그 | `(개수)` | 실제 개수 (예: `0`) |
| 총 테스트 수 | `(개수)` | 실제 개수 (예: `4`) |
| 성공 | `(개수)` | 실제 개수 (예: `4`) |
| 실패 | `(개수)` | 실제 개수 (예: `0`) |
| 테스트 성공률 | `(퍼센트)` | 실제 성공률 (예: `100%`) |

#### Docs 단계

| 섹션 | 템플릿 내용 | 변경 대상 |
|------|-----------|----------|
| API 문서 | `(생성된 API 문서 목록 및 경로)` | 실제 API 문서 목록 |
| 사용자 문서 | `(생성된 사용자 문서 목록 및 경로)` | 실제 사용자 문서 목록 |
| 주석이 개선된 파일 | `(주석이 개선된 파일 목록)` | 실제 파일 목록 |
| 완전성 | `(퍼센트)` | 실제 완전성 (예: `100%`) |
| 품질 점수 | `(점수)` | 실제 점수 (예: `95`) |

#### QA 단계

| 섹션 | 템플릿 내용 | 변경 대상 |
|------|-----------|----------|
| 발견된 버그 | `(개수)` | 실제 개수 (예: `0`) |
| 성능 점수 | `(점수)` | 실제 점수 (예: `90`) |
| 발견된 취약점 | `(개수)` | 실제 개수 (예: `0`) |

---

### 변경 절차 예시

#### 1. 템플릿 파일 읽기
```
.wips/templates/WIP-Plan-YYYYMMDD-NN.md
```

#### 2. 독립 WIP 파일 생성 및 복사
```
.wips/active/Plan/WIP-Plan-20250208-001.md
```

#### 3. 필수 항목 변경
```markdown
## 기본 정보
- **WorkID**: WIP-20250208-001  ← 변경
- **스테이지**: Plan
- **담당 에이전트**: analyst
- **생성일**: 2025-02-08  ← 변경
- **상태**: 준비  ← 진행 중으로 변경

## 지시 정보
### 작업 대상 (Target)
- 데이터 추출 기능 추가  ← 변경
```

#### 4. 체크박스 업데이트 (작업 완료 시)
```markdown
#### 1.1. 사용자 요구사항 검증
- [x] 요구사항이 명확한가?  ← [ ]에서 [x]로 변경
- [x] 모호한 부분 식별
```

#### 5. 진척도 업데이트
```markdown
## 진척도
- **진척도**: 50%  ← 0%에서 변경
```

---

## 📖 상세 가이드 확인

- 작업 절차: [WORKFLOW_PLANNING/INDEX.md](./WORKFLOW_PLANNING/INDEX.md)
- 작업 추적: [WORK_IN_PROGRESS.md](./WORK_IN_PROGRESS.md)
- 코드 작성법: [CODE_STYLE.md](./.guides/CODE_STYLE.md)
- 기술 규칙: [TECHNICAL_RULES.md](./.guides/TECHNICAL_RULES.md)
